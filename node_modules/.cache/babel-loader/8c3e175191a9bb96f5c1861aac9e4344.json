{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\acumberlander\\\\projects\\\\marvel-site-1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\acumberlander\\\\projects\\\\marvel-site-1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\acumberlander\\\\projects\\\\marvel-site-1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\acumberlander\\\\projects\\\\marvel-site-1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\acumberlander\\\\projects\\\\marvel-site-1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\acumberlander\\\\projects\\\\marvel-site-1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\acumberlander\\\\projects\\\\marvel-site-1\\\\src\\\\App\\\\Components\\\\LoginModal\\\\LoginModal.js\";\nimport React, { Component } from \"react\";\nimport \"./LoginModal.scss\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport { ModalBody } from \"reactstrap\";\nimport { Button } from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport MailIcon from \"@material-ui/icons/Mail\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport TextField from \"@material-ui/core/TextField\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport \"firebase/auth\";\nimport firebase from \"firebase/app\";\nimport userRequests from \"../../Helpers/Data/Requests/userRequests\";\nimport authRequests from \"../../Helpers/Data/Requests/authRequests\";\nvar userInfo = {\n  email: \"\",\n  password: \"\",\n  fullName: \"\",\n  uid: \"\"\n};\n\nvar LoginModal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoginModal, _Component);\n\n  function LoginModal() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LoginModal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LoginModal)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      selectedLogin: false,\n      selectedSignUp: false,\n      seePassword: false,\n      loginInfo: userInfo\n    };\n\n    _this.showLogin = function () {\n      _this.setState({\n        selectedSignUp: false\n      });\n\n      _this.setState({\n        selectedLogin: true\n      });\n    };\n\n    _this.showSignUp = function () {\n      _this.setState({\n        selectedLogin: false\n      });\n\n      _this.setState({\n        selectedSignUp: true\n      });\n    };\n\n    _this.togglePasswordVisibility = function () {\n      _this.setState({\n        seePassword: !_this.state.seePassword\n      });\n    };\n\n    _this.returnToModal = function () {\n      _this.setState({\n        selectedLogin: false,\n        selectedSignUp: false\n      });\n    };\n\n    _this.authenticateUser = function (e, email, password) {\n      e.preventDefault();\n      firebase.auth().signInWithEmailAndPassword(email, password).then(function () {\n        _this.props.hideModal();\n      }).catch(function (err) {\n        var errorCode = err.code;\n        var errorMessage = err.message;\n\n        if (errorCode === \"auth/wrong-password\") {\n          errorMessage = \"Username or password is invalid.\";\n        } else if (errorCode === \"auth/user-not-found\") {\n          errorMessage = \"Username or password is invalid.\";\n        }\n\n        alert(errorMessage);\n      });\n    };\n\n    _this.login = function (e) {\n      e.preventDefault();\n\n      _this.authenticateUser(e, _this.state.loginInfo.email, _this.state.loginInfo.password);\n    };\n\n    _this.googleLogin = function () {\n      authRequests.googleAuthenticate();\n\n      _this.props.hideModal();\n    };\n\n    _this.facebookLogin = function () {\n      authRequests.facebookAuthenticate();\n\n      _this.props.hideModal();\n    };\n\n    _this.signUp = function (newUserInfo) {\n      firebase.auth().createUserWithEmailAndPassword(newUserInfo.email, newUserInfo.password).then(function () {\n        newUserInfo.uid = authRequests.getCurrentUid();\n        var usrInfo = {\n          fullName: newUserInfo.fullName,\n          email: newUserInfo.email,\n          uid: newUserInfo.uid,\n          collection: newUserInfo.collection\n        };\n        userRequests.createUser(usrInfo);\n\n        _this.props.hideModal();\n      }).catch(function (err) {\n        return alert(err.message);\n      });\n    };\n\n    _this.formSubmit = function (e) {\n      e.preventDefault();\n      var signUp = _this.signUp;\n\n      var userInfo = _objectSpread({}, _this.state.loginInfo);\n\n      signUp(_this.state.loginInfo);\n\n      _this.setState({\n        loginInfo: userInfo\n      });\n    };\n\n    _this.formFieldStringState = function (name, e) {\n      e.preventDefault();\n\n      var tempInfo = _objectSpread({}, _this.state.loginInfo);\n\n      tempInfo[name] = e.target.value;\n\n      _this.setState({\n        loginInfo: tempInfo\n      });\n    };\n\n    _this.emailChange = function (e) {\n      _this.formFieldStringState(\"email\", e);\n    };\n\n    _this.passwordChange = function (e) {\n      _this.formFieldStringState(\"password\", e);\n    };\n\n    _this.fullNameChange = function (e) {\n      _this.formFieldStringState(\"fullName\", e);\n    };\n\n    return _this;\n  }\n\n  _createClass(LoginModal, [{\n    key: \"render\",\n    value: function render() {\n      var theType = this.state.seePassword ? \"text\" : \"password\";\n      var visibleIcon = this.state.seePassword ? React.createElement(VisibilityIcon, {\n        className: \"eye-icon\",\n        fontSize: \"small\",\n        onClick: this.togglePasswordVisibility,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }) : React.createElement(VisibilityOffIcon, {\n        className: \"eye-icon\",\n        fontSize: \"small\",\n        onClick: this.togglePasswordVisibility,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      });\n\n      if (this.state.selectedLogin) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }, React.createElement(Modal, {\n          className: \"the-modal\",\n          open: this.props.modalOpen,\n          onClose: this.props.hideModal,\n          BackdropComponent: Backdrop,\n          BackdropProps: {\n            timeout: 500\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, React.createElement(ModalBody, {\n          className: \"login-modal-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }, React.createElement(Slide, {\n          in: this.props.modalOpen,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"content-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"login-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, React.createElement(ArrowBackIcon, {\n          className: \"back-arrow\",\n          fontSize: \"default\",\n          onClick: this.returnToModal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, \"Log In\")), React.createElement(\"div\", {\n          className: \"body-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"input-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"email-input-div\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, React.createElement(TextField, {\n          className: \"filled-basic\",\n          name: \"email\",\n          label: \"Email\",\n          variant: \"filled\",\n          type: \"email\",\n          value: this.state.loginInfo.email,\n          onChange: this.emailChange,\n          InputProps: {\n            startAdornment: React.createElement(InputAdornment, {\n              position: \"start\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 196\n              },\n              __self: this\n            }, React.createElement(MailIcon, {\n              fontSize: \"small\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 197\n              },\n              __self: this\n            }))\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"password-input-div\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, React.createElement(TextField, {\n          className: \"filled-basic\",\n          name: \"password\",\n          label: \"Password\",\n          variant: \"filled\",\n          type: theType,\n          value: this.state.loginInfo.password,\n          onChange: this.passwordChange,\n          InputProps: {\n            startAdornment: React.createElement(InputAdornment, {\n              position: \"start\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 214\n              },\n              __self: this\n            }, React.createElement(LockIcon, {\n              fontSize: \"small\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 215\n              },\n              __self: this\n            })),\n            endAdornment: React.createElement(InputAdornment, {\n              position: \"end\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 219\n              },\n              __self: this\n            }, visibleIcon)\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        })), React.createElement(Button, {\n          id: \"login-button\",\n          onClick: this.login,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        }, \"Log In\")))))))));\n      }\n\n      if (this.state.selectedSignUp) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241\n          },\n          __self: this\n        }, React.createElement(Modal, {\n          className: \"the-modal\",\n          open: this.props.modalOpen,\n          onClose: this.props.hideModal,\n          BackdropComponent: Backdrop,\n          BackdropProps: {\n            timeout: 500\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        }, React.createElement(ModalBody, {\n          className: \"login-modal-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251\n          },\n          __self: this\n        }, React.createElement(Slide, {\n          in: this.props.modalOpen,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 252\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"content-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"login-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254\n          },\n          __self: this\n        }, React.createElement(ArrowBackIcon, {\n          className: \"back-arrow\",\n          fontSize: \"default\",\n          onClick: this.returnToModal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255\n          },\n          __self: this\n        }), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        }, \"Create a new account\")), React.createElement(\"div\", {\n          className: \"body-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"input-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          onEnter: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"email-input-div\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265\n          },\n          __self: this\n        }, React.createElement(TextField, {\n          className: \"filled-basic\",\n          label: \"Email\",\n          variant: \"filled\",\n          type: \"email\",\n          onChange: this.emailChange,\n          InputProps: {\n            startAdornment: React.createElement(InputAdornment, {\n              position: \"start\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 274\n              },\n              __self: this\n            }, React.createElement(MailIcon, {\n              fontSize: \"small\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 275\n              },\n              __self: this\n            }))\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"password-input-div\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281\n          },\n          __self: this\n        }, React.createElement(TextField, {\n          className: \"filled-basic\",\n          label: \"Password\",\n          variant: \"filled\",\n          type: theType,\n          onChange: this.passwordChange,\n          InputProps: {\n            startAdornment: React.createElement(InputAdornment, {\n              position: \"start\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 290\n              },\n              __self: this\n            }, React.createElement(LockIcon, {\n              fontSize: \"small\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 291\n              },\n              __self: this\n            })),\n            endAdornment: React.createElement(InputAdornment, {\n              position: \"end\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 295\n              },\n              __self: this\n            }, visibleIcon)\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"password-input-div\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 302\n          },\n          __self: this\n        }, React.createElement(TextField, {\n          className: \"filled-basic\",\n          label: \"Full name\",\n          variant: \"filled\",\n          type: \"text\",\n          onChange: this.fullNameChange,\n          InputProps: {\n            startAdornment: React.createElement(InputAdornment, {\n              position: \"start\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 311\n              },\n              __self: this\n            }, React.createElement(PersonIcon, {\n              fontSize: \"small\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 312\n              },\n              __self: this\n            }))\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 303\n          },\n          __self: this\n        })), React.createElement(Button, {\n          onClick: this.formSubmit,\n          type: \"submit\",\n          id: \"login-button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318\n          },\n          __self: this\n        }, \"Sign Up\")))))))));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 336\n          },\n          __self: this\n        }, React.createElement(Modal, {\n          className: \"the-modal\",\n          open: this.props.modalOpen,\n          onClose: this.props.hideModal,\n          BackdropComponent: Backdrop,\n          BackdropProps: {\n            timeout: 500\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 337\n          },\n          __self: this\n        }, React.createElement(ModalBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346\n          },\n          __self: this\n        }, React.createElement(Slide, {\n          in: this.props.modalOpen,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 347\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"content-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 348\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"close-icon-div\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 349\n          },\n          __self: this\n        }, React.createElement(CloseIcon, {\n          id: \"close-icon\",\n          onClick: this.props.hideModal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 350\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"header-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 352\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          id: \"modal-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 353\n          },\n          __self: this\n        }, \"YoComics!\"), React.createElement(\"p\", {\n          id: \"modal-description\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 354\n          },\n          __self: this\n        }, \"Browse and keep a catalog of all your favorite comics!\")), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 358\n          },\n          __self: this\n        }, \"Quickly Connect With\"), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 359\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"body-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 360\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"social-buttons\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 361\n          },\n          __self: this\n        }, React.createElement(Button, {\n          onClick: this.facebookLogin,\n          id: \"facebook-button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 362\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"button-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 363\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          id: \"facebook-icon\",\n          src: \"https://privacyinternational.org/sites/default/files/flysystem/styles/middle_column_small/local-default/2019-03/Facebook_logo_%28square%29.png?itok=ju1PgzXf\",\n          alt: \"facebook\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 364\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 369\n          },\n          __self: this\n        }, \"continue with Facebook\"))), React.createElement(Button, {\n          onClick: this.googleLogin,\n          id: \"google-button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 372\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"button-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 373\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          id: \"google-icon\",\n          src: \"https://img.pngio.com/google-logo-png-circle-google-icon-png-white-transparent-google-logo-white-png-654_665.png\",\n          alt: \"google\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 374\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 379\n          },\n          __self: this\n        }, \"continue with google\"))))), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 384\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 385\n          },\n          __self: this\n        }, \"Or Use Your Email\"), React.createElement(\"div\", {\n          className: \"action-links\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 386\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"log-options\",\n          onClick: this.showSignUp,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 387\n          },\n          __self: this\n        }, \"Sign Up\"), React.createElement(\"span\", {\n          className: \"log-options\",\n          onClick: this.showLogin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 390\n          },\n          __self: this\n        }, \"Log In\")))))));\n      }\n    }\n  }]);\n\n  return LoginModal;\n}(Component);\n\nexport { LoginModal as default };","map":{"version":3,"sources":["C:\\Users\\acumberlander\\projects\\marvel-site-1\\src\\App\\Components\\LoginModal\\LoginModal.js"],"names":["React","Component","Modal","Slide","Backdrop","ModalBody","Button","CloseIcon","InputAdornment","MailIcon","LockIcon","ArrowBackIcon","TextField","VisibilityIcon","VisibilityOffIcon","PersonIcon","firebase","userRequests","authRequests","userInfo","email","password","fullName","uid","LoginModal","state","selectedLogin","selectedSignUp","seePassword","loginInfo","showLogin","setState","showSignUp","togglePasswordVisibility","returnToModal","authenticateUser","e","preventDefault","auth","signInWithEmailAndPassword","then","props","hideModal","catch","err","errorCode","code","errorMessage","message","alert","login","googleLogin","googleAuthenticate","facebookLogin","facebookAuthenticate","signUp","newUserInfo","createUserWithEmailAndPassword","getCurrentUid","usrInfo","collection","createUser","formSubmit","formFieldStringState","name","tempInfo","target","value","emailChange","passwordChange","fullNameChange","theType","visibleIcon","modalOpen","timeout","startAdornment","endAdornment"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./LoginModal.scss\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport { ModalBody } from \"reactstrap\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport MailIcon from \"@material-ui/icons/Mail\";\r\nimport LockIcon from \"@material-ui/icons/Lock\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport \"firebase/auth\";\r\nimport firebase from \"firebase/app\";\r\nimport userRequests from \"../../Helpers/Data/Requests/userRequests\";\r\nimport authRequests from \"../../Helpers/Data/Requests/authRequests\";\r\n\r\nconst userInfo = {\r\n  email: \"\",\r\n  password: \"\",\r\n  fullName: \"\",\r\n  uid: \"\",\r\n};\r\n\r\nexport default class LoginModal extends Component {\r\n  state = {\r\n    selectedLogin: false,\r\n    selectedSignUp: false,\r\n    seePassword: false,\r\n    loginInfo: userInfo,\r\n  };\r\n\r\n  showLogin = () => {\r\n    this.setState({ selectedSignUp: false });\r\n    this.setState({ selectedLogin: true });\r\n  };\r\n\r\n  showSignUp = () => {\r\n    this.setState({ selectedLogin: false });\r\n    this.setState({ selectedSignUp: true });\r\n  };\r\n\r\n  togglePasswordVisibility = () => {\r\n    this.setState({ seePassword: !this.state.seePassword });\r\n  };\r\n\r\n  returnToModal = () => {\r\n    this.setState({\r\n      selectedLogin: false,\r\n      selectedSignUp: false,\r\n    });\r\n  };\r\n\r\n  authenticateUser = (e, email, password) => {\r\n    e.preventDefault();\r\n    firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then(() => {\r\n        this.props.hideModal();\r\n      })\r\n      .catch((err) => {\r\n        let errorCode = err.code;\r\n        let errorMessage = err.message;\r\n        if (errorCode === \"auth/wrong-password\") {\r\n          errorMessage = \"Username or password is invalid.\";\r\n        } else if (errorCode === \"auth/user-not-found\") {\r\n          errorMessage = \"Username or password is invalid.\";\r\n        }\r\n        alert(errorMessage);\r\n      });\r\n  };\r\n\r\n  login = (e) => {\r\n    e.preventDefault();\r\n    this.authenticateUser(\r\n      e,\r\n      this.state.loginInfo.email,\r\n      this.state.loginInfo.password\r\n    );\r\n  };\r\n\r\n  googleLogin = () => {\r\n    authRequests.googleAuthenticate();\r\n    this.props.hideModal();\r\n  };\r\n\r\n  // This function authenticates the user but does not allow\r\n  // for data to be access at this time due to COVID-19 - according to Facebook.\r\n  facebookLogin = () => {\r\n    authRequests.facebookAuthenticate();\r\n    this.props.hideModal();\r\n  };\r\n\r\n  signUp = (newUserInfo) => {\r\n    firebase\r\n      .auth()\r\n      .createUserWithEmailAndPassword(newUserInfo.email, newUserInfo.password)\r\n      .then(() => {\r\n        newUserInfo.uid = authRequests.getCurrentUid();\r\n        const usrInfo = {\r\n          fullName: newUserInfo.fullName,\r\n          email: newUserInfo.email,\r\n          uid: newUserInfo.uid,\r\n          collection: newUserInfo.collection,\r\n        };\r\n        userRequests.createUser(usrInfo);\r\n        this.props.hideModal();\r\n      })\r\n      .catch((err) => alert(err.message));\r\n  };\r\n\r\n  formSubmit = (e) => {\r\n    e.preventDefault();\r\n    const signUp = this.signUp;\r\n    const userInfo = { ...this.state.loginInfo };\r\n    signUp(this.state.loginInfo);\r\n    this.setState({ loginInfo: userInfo });\r\n  };\r\n\r\n  formFieldStringState = (name, e) => {\r\n    e.preventDefault();\r\n    const tempInfo = { ...this.state.loginInfo };\r\n    tempInfo[name] = e.target.value;\r\n    this.setState({ loginInfo: tempInfo });\r\n  };\r\n\r\n  emailChange = (e) => {\r\n    this.formFieldStringState(\"email\", e);\r\n  };\r\n\r\n  passwordChange = (e) => {\r\n    this.formFieldStringState(\"password\", e);\r\n  };\r\n\r\n  fullNameChange = (e) => {\r\n    this.formFieldStringState(\"fullName\", e);\r\n  };\r\n\r\n  render() {\r\n    const theType = this.state.seePassword ? \"text\" : \"password\";\r\n    const visibleIcon = this.state.seePassword ? (\r\n      <VisibilityIcon\r\n        className=\"eye-icon\"\r\n        fontSize=\"small\"\r\n        onClick={this.togglePasswordVisibility}\r\n      />\r\n    ) : (\r\n      <VisibilityOffIcon\r\n        className=\"eye-icon\"\r\n        fontSize=\"small\"\r\n        onClick={this.togglePasswordVisibility}\r\n      />\r\n    );\r\n    if (this.state.selectedLogin) {\r\n      return (\r\n        <div>\r\n          <Modal\r\n            className=\"the-modal\"\r\n            open={this.props.modalOpen}\r\n            onClose={this.props.hideModal}\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{\r\n              timeout: 500,\r\n            }}\r\n          >\r\n            <ModalBody className=\"login-modal-body\">\r\n              <Slide in={this.props.modalOpen}>\r\n                <div className=\"content-container\">\r\n                  <div className=\"login-header\">\r\n                    <ArrowBackIcon\r\n                      className=\"back-arrow\"\r\n                      fontSize=\"default\"\r\n                      onClick={this.returnToModal}\r\n                    />\r\n                    <h3>Log In</h3>\r\n                  </div>\r\n                  <div className=\"body-content\">\r\n                    <div id=\"input-container\">\r\n                      <form>\r\n                        <div className=\"email-input-div\">\r\n                          <TextField\r\n                            className=\"filled-basic\"\r\n                            name=\"email\"\r\n                            label=\"Email\"\r\n                            variant=\"filled\"\r\n                            type=\"email\"\r\n                            value={this.state.loginInfo.email}\r\n                            onChange={this.emailChange}\r\n                            InputProps={{\r\n                              startAdornment: (\r\n                                <InputAdornment position=\"start\">\r\n                                  <MailIcon fontSize=\"small\" />\r\n                                </InputAdornment>\r\n                              ),\r\n                            }}\r\n                          />\r\n                        </div>\r\n                        <div className=\"password-input-div\">\r\n                          <TextField\r\n                            className=\"filled-basic\"\r\n                            name=\"password\"\r\n                            label=\"Password\"\r\n                            variant=\"filled\"\r\n                            type={theType}\r\n                            value={this.state.loginInfo.password}\r\n                            onChange={this.passwordChange}\r\n                            InputProps={{\r\n                              startAdornment: (\r\n                                <InputAdornment position=\"start\">\r\n                                  <LockIcon fontSize=\"small\" />\r\n                                </InputAdornment>\r\n                              ),\r\n                              endAdornment: (\r\n                                <InputAdornment position=\"end\">\r\n                                  {visibleIcon}\r\n                                </InputAdornment>\r\n                              ),\r\n                            }}\r\n                          />\r\n                        </div>\r\n                        <Button id=\"login-button\" onClick={this.login}>\r\n                          Log In\r\n                        </Button>\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Slide>\r\n            </ModalBody>\r\n          </Modal>\r\n        </div>\r\n      );\r\n    }\r\n    if (this.state.selectedSignUp) {\r\n      return (\r\n        <div>\r\n          <Modal\r\n            className=\"the-modal\"\r\n            open={this.props.modalOpen}\r\n            onClose={this.props.hideModal}\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{\r\n              timeout: 500,\r\n            }}\r\n          >\r\n            <ModalBody className=\"login-modal-body\">\r\n              <Slide in={this.props.modalOpen}>\r\n                <div className=\"content-container\">\r\n                  <div className=\"login-header\">\r\n                    <ArrowBackIcon\r\n                      className=\"back-arrow\"\r\n                      fontSize=\"default\"\r\n                      onClick={this.returnToModal}\r\n                    />\r\n                    <h3>Create a new account</h3>\r\n                  </div>\r\n                  <div className=\"body-content\">\r\n                    <div id=\"input-container\">\r\n                      <form onEnter={true}>\r\n                        <div className=\"email-input-div\">\r\n                          <TextField\r\n                            className=\"filled-basic\"\r\n                            label=\"Email\"\r\n                            variant=\"filled\"\r\n                            type=\"email\"\r\n                            onChange={this.emailChange}\r\n                            InputProps={{\r\n                              startAdornment: (\r\n                                <InputAdornment position=\"start\">\r\n                                  <MailIcon fontSize=\"small\" />\r\n                                </InputAdornment>\r\n                              ),\r\n                            }}\r\n                          />\r\n                        </div>\r\n                        <div className=\"password-input-div\">\r\n                          <TextField\r\n                            className=\"filled-basic\"\r\n                            label=\"Password\"\r\n                            variant=\"filled\"\r\n                            type={theType}\r\n                            onChange={this.passwordChange}\r\n                            InputProps={{\r\n                              startAdornment: (\r\n                                <InputAdornment position=\"start\">\r\n                                  <LockIcon fontSize=\"small\" />\r\n                                </InputAdornment>\r\n                              ),\r\n                              endAdornment: (\r\n                                <InputAdornment position=\"end\">\r\n                                  {visibleIcon}\r\n                                </InputAdornment>\r\n                              ),\r\n                            }}\r\n                          />\r\n                        </div>\r\n                        <div className=\"password-input-div\">\r\n                          <TextField\r\n                            className=\"filled-basic\"\r\n                            label=\"Full name\"\r\n                            variant=\"filled\"\r\n                            type=\"text\"\r\n                            onChange={this.fullNameChange}\r\n                            InputProps={{\r\n                              startAdornment: (\r\n                                <InputAdornment position=\"start\">\r\n                                  <PersonIcon fontSize=\"small\" />\r\n                                </InputAdornment>\r\n                              ),\r\n                            }}\r\n                          />\r\n                        </div>\r\n                        <Button\r\n                          onClick={this.formSubmit}\r\n                          type=\"submit\"\r\n                          id=\"login-button\"\r\n                        >\r\n                          Sign Up\r\n                        </Button>\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Slide>\r\n            </ModalBody>\r\n          </Modal>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div>\r\n          <Modal\r\n            className=\"the-modal\"\r\n            open={this.props.modalOpen}\r\n            onClose={this.props.hideModal}\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{\r\n              timeout: 500,\r\n            }}\r\n          >\r\n            <ModalBody>\r\n              <Slide in={this.props.modalOpen}>\r\n                <div className=\"content-container\">\r\n                  <div className=\"close-icon-div\">\r\n                    <CloseIcon id=\"close-icon\" onClick={this.props.hideModal} />\r\n                  </div>\r\n                  <div className=\"header-content\">\r\n                    <h1 id=\"modal-title\">YoComics!</h1>\r\n                    <p id=\"modal-description\">\r\n                      Browse and keep a catalog of all your favorite comics!\r\n                    </p>\r\n                  </div>\r\n                  <p>Quickly Connect With</p>\r\n                  <hr></hr>\r\n                  <div className=\"body-content\">\r\n                    <div className=\"social-buttons\">\r\n                      <Button onClick={this.facebookLogin} id=\"facebook-button\">\r\n                        <span className=\"button-content\">\r\n                          <img\r\n                            id=\"facebook-icon\"\r\n                            src=\"https://privacyinternational.org/sites/default/files/flysystem/styles/middle_column_small/local-default/2019-03/Facebook_logo_%28square%29.png?itok=ju1PgzXf\"\r\n                            alt=\"facebook\"\r\n                          ></img>\r\n                          <p>continue with Facebook</p>\r\n                        </span>\r\n                      </Button>\r\n                      <Button onClick={this.googleLogin} id=\"google-button\">\r\n                        <span className=\"button-content\">\r\n                          <img\r\n                            id=\"google-icon\"\r\n                            src=\"https://img.pngio.com/google-logo-png-circle-google-icon-png-white-transparent-google-logo-white-png-654_665.png\"\r\n                            alt=\"google\"\r\n                          ></img>\r\n                          <p>continue with google</p>\r\n                        </span>\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                  <hr></hr>\r\n                  <p>Or Use Your Email</p>\r\n                  <div className=\"action-links\">\r\n                    <span className=\"log-options\" onClick={this.showSignUp}>\r\n                      Sign Up\r\n                    </span>\r\n                    <span className=\"log-options\" onClick={this.showLogin}>\r\n                      Log In\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </Slide>\r\n            </ModalBody>\r\n          </Modal>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}